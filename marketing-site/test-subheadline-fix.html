<!DOCTYPE html>
<html>
<head>
    <title>Subheadline Highlighting Fix</title>
    <style>
        .text-blue-600 { color: #2563eb; font-weight: 600; }
        .text-purple-600 { color: #9333ea; font-weight: 600; }
        .test { margin: 20px 0; padding: 20px; border: 2px solid #10b981; background: #f0fdf4; border-radius: 8px; }
        .before { border-color: #ef4444; background: #fef2f2; }
    </style>
</head>
<body>
    <h1>🎯 Subheadline Highlighting Consistency Fix</h1>
    
    <div class="test before">
        <h3>❌ BEFORE (Inconsistent):</h3>
        <p style="font-size: 16px; color: #ef4444;">
            From Stockholm to Wall Street, turn real‑time moves in OMXS30 into smarter decisions.
        </p>
        <p><strong>Problem:</strong> No highlighting, inconsistent with headline rules</p>
    </div>
    
    <div class="test">
        <h3>✅ AFTER (Fixed - English):</h3>
        <p style="font-size: 18px; color: #059669;">
            From <span class="text-purple-600">Stockholm</span> to Wall Street, turn <span class="text-blue-600">real‑time</span> moves in <span class="text-purple-600">OMXS30</span> into smarter decisions.
        </p>
        <p><strong>Pattern:</strong> purple neutral blue neutral purple ✅</p>
        <p><strong>Personalizations highlighted:</strong> Stockholm (city), OMXS30 (market index)</p>
    </div>
    
    <div class="test">
        <h3>✅ French Example:</h3>
        <p style="font-size: 18px; color: #059669;">
            De <span class="text-purple-600">Stockholm</span> à Wall Street, transformez les mouvements en <span class="text-blue-600">temps réel</span> du <span class="text-purple-600">OMXS30</span> en décisions intelligentes.
        </p>
        <p><strong>Pattern:</strong> purple neutral blue neutral purple ✅</p>
        <p><strong>Personalizations highlighted:</strong> Stockholm (city), OMXS30 (market index)</p>
    </div>
    
    <div class="test">
        <h3>✅ Arabic Example:</h3>
        <p style="font-size: 18px; color: #059669;">
            من <span class="text-purple-600">ستوكهولم</span> إلى وول ستريت، حوّل الحركات في <span class="text-blue-600">الوقت الحقيقي</span> في <span class="text-purple-600">OMXS30</span> إلى قرارات ذكية.
        </p>
        <p><strong>Pattern:</strong> purple neutral blue neutral purple ✅</p>
        <p><strong>Personalizations highlighted:</strong> ستوكهولم (city), OMXS30 (market index)</p>
    </div>
    
    <div style="margin-top: 30px; padding: 20px; background: #dbeafe; border-radius: 8px;">
        <h3>🎉 CONSISTENCY ACHIEVED FOR SUBHEADLINES!</h3>
        <ul style="line-height: 1.8;">
            <li><strong>✅ Same rules as headlines:</strong> Exactly 1 blue + 1 purple per subheadline</li>
            <li><strong>✅ Blue highlights:</strong> Action terms (real-time, temps réel, الوقت الحقيقي)</li>
            <li><strong>✅ Purple highlights:</strong> Personalizations (Stockholm, OMXS30) - cities and market indices</li>
            <li><strong>✅ Fallback logic:</strong> Highlights common financial centers if no personalization detected</li>
            <li><strong>✅ All languages consistent:</strong> Follow allowed color patterns</li>
        </ul>
    </div>
    
</body>
</html>